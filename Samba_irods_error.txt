20180204, rErrMsg_t err_msg:
Breakpoint 1, stor_connect (handle=0x555555815560, service=0x5555557edb80 "test",
    user=0x5555557f0600 "TEST\\davor") at ../source3/modules/vfs_stor.c:99
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) p err_msg
$1 = {status = 0, msg = '\000' <repeats 1023 times>}
(gdb) s
103                             vfs_stor_data->stor_env.rodsZone,
(gdb) s
102                             vfs_stor_data->stor_env.rodsUserName,
(gdb) s
101                             vfs_stor_data->stor_env.rodsPort,
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) s
100                             vfs_stor_data->stor_env.rodsHost,
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) s

Program received signal SIGSEGV, Segmentation fault.
0x00007fffe0047403 in boost::unordered::detail::table_impl<boost::unordered::detail::map<std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, boost::any> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, boost::any, irods::irods_string_hash, std::__1::equal_to<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > >::operator[](std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) () from /usr/lib/libirods_client.so.4.2.2
(gdb) p err_msg
No symbol "err_msg" in current context.
(gdb) c
Continuing.
===============================================================
INTERNAL ERROR: Signal 11 in pid 7376 (4.7.3)
Please read the Trouble-Shooting section of the Samba HOWTO
===============================================================
PANIC (pid 7376): internal error
BACKTRACE: 44 stack frames:
 #0 /usr/local/samba/lib/libsmbconf.so.0(log_stack_trace+0x1f) [0x7ffff529d236]
 #1 /usr/local/samba/lib/libsmbconf.so.0(smb_panic_s3+0x6d) [0x7ffff529d087]
 #2 /usr/local/samba/lib/libsamba-util.so.0(smb_panic+0x28) [0x7ffff77623a2]
 #3 /usr/local/samba/lib/libsamba-util.so.0(+0x2d080) [0x7ffff7762080]
 #4 /usr/local/samba/lib/libsamba-util.so.0(+0x2d095) [0x7ffff7762095]
 #5 /lib/x86_64-linux-gnu/libpthread.so.0(+0x11390) [0x7ffff7bcb390]
 #6 /usr/lib/libirods_client.so.4.2.2(_ZN5boost9unordered6detail10table_implINS1_3mapINSt3__19allocatorINS4_4pairIKNS4_12basic_stringIcNS4_11char_traitsIcEENS5_IcEEEENS_3anyEEEEESB_SD_N5irods17irods_string_hashENS4_8equal_toISB_EEEEEixERSC_+0x13) [0x7fffe0047403]
 #7 /usr/lib/libirods_client.so.4.2.2(_ZZN5irods11plugin_base4callIJPKcP8BytesBufS5_S5_i11irodsProt_tEEENS_5errorEP8rsComm_tRKNSt3__112basic_stringIcNSA_11char_traitsIcEENSA_9allocatorIcEEEEN5boost10shared_ptrINS_18first_class_objectEEEDpT_ENKUlRNS_14plugin_contextEPSG_S3_S5_S5_S5_iS6_E_clESQ_SR_S3_S5_S5_S5_iS6_+0x5a) [0x7fffe008830a]
 #8 /usr/lib/libirods_client.so.4.2.2(_ZN5irods11plugin_base4callIJPKcP8BytesBufS5_S5_i11irodsProt_tEEENS_5errorEP8rsComm_tRKNSt3__112basic_stringIcNSA_11char_traitsIcEENSA_9allocatorIcEEEEN5boost10shared_ptrINS_18first_class_objectEEEDpT_+0x1af) [0x7fffe0086b7f]
 #9 /usr/lib/libirods_client.so.4.2.2(_Z11sendRodsMsgN5boost10shared_ptrIN5irods14network_objectEEEPKcP8BytesBufS7_S7_i11irodsProt_t+0x153) [0x7fffe0082cf3]
 #10 /usr/lib/libirods_client.so.4.2.2(sendStartupPack+0x233) [0x7fffe0082283]
 #11 /usr/lib/libirods_client.so.4.2.2(connectToRhost+0x55) [0x7fffe0081175]
 #12 /usr/lib/libirods_client.so.4.2.2(_rcConnect+0x24d) [0x7fffe006d65d]
 #13 /usr/lib/libirods_client.so.4.2.2(rcConnect+0x6b) [0x7fffe006d3fb]
 #14 /usr/local/samba/lib/vfs/stor.so(+0x1df6) [0x7fffe02dadf6]

---
20180404, 
struct stor_data {
    rErrMsg_t err_msg;
} *vfs_stor_data;

Breakpoint 1, stor_connect (handle=0x5555558155c0, service=0x5555557ee3b0 "test",
    user=0x5555557f3100 "TEST\\davor") at ../source3/modules/vfs_stor.c:99
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) p vfs_stor_data->err_msg
$1 = {status = 0, msg = '\000' <repeats 1023 times>}
(gdb) s
104                             0, &vfs_stor_data->err_msg);
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) s
103                             vfs_stor_data->stor_env.rodsZone,
(gdb) s
102                             vfs_stor_data->stor_env.rodsUserName,
(gdb) s
101                             vfs_stor_data->stor_env.rodsPort,
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) s
100                             vfs_stor_data->stor_env.rodsHost,
(gdb) p vfs_stor_data->err_msg
$2 = {status = 0, msg = '\000' <repeats 1023 times>}
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) p vfs_stor_data->err_msg
$3 = {status = 0, msg = '\000' <repeats 1023 times>}
(gdb) s

Program received signal SIGSEGV, Segmentation fault.
0x00007fffe0047403 in boost::unordered::detail::table_impl<boost::unordered::detail::map<std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, boost::any> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, boost::any, irods::irods_string_hash, std::__1::equal_to<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > >::operator[](std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) () from /usr/lib/libirods_client.so.4.2.2
(gdb) p vfs_stor_data->err_msg
$4 = {status = 0, msg = '\000' <repeats 1023 times>}
(gdb) s
Single stepping until exit from function _ZN5boost9unordered6detail10table_implINS1_3mapINSt3__19allocatorINS4_4pairIKNS4_12basic_stringIcNS4_11char_traitsIcEENS5_IcEEEENS_3anyEEEEESB_SD_N5irods17irods_string_hashENS4_8equal_toISB_EEEEEixERSC_,
which has no line number information.
sig_fault (sig=0) at ../lib/util/fault.c:93
93      {
(gdb) p vfs_stor_data->err_msg
$5 = {status = 0, msg = '\000' <repeats 1023 times>}
(gdb) c
Continuing.
===============================================================
INTERNAL ERROR: Signal 11 in pid 11212 (4.7.3)
Please read the Trouble-Shooting section of the Samba HOWTO
===============================================================
PANIC (pid 11212): internal error
BACKTRACE: 44 stack frames:
 #0 /usr/local/samba/lib/libsmbconf.so.0(log_stack_trace+0x1f) [0x7ffff529d236]
 #1 /usr/local/samba/lib/libsmbconf.so.0(smb_panic_s3+0x6d) [0x7ffff529d087]
 #2 /usr/local/samba/lib/libsamba-util.so.0(smb_panic+0x28) [0x7ffff77623a2]
 #3 /usr/local/samba/lib/libsamba-util.so.0(+0x2d080) [0x7ffff7762080]
 #4 /usr/local/samba/lib/libsamba-util.so.0(+0x2d095) [0x7ffff7762095]
 #5 /lib/x86_64-linux-gnu/libpthread.so.0(+0x11390) [0x7ffff7bcb390]
 #6 /usr/lib/libirods_client.so.4.2.2(_ZN5boost9unordered6detail10table_implINS1_3mapINSt3__19allocatorINS4_4pairIKNS4_12basic_stringIcNS4_11char_traitsIcEENS5_IcEEEENS_3anyEEEEESB_SD_N5irods17irods_string_hashENS4_8equal_toISB_EEEEEixERSC_+0x13) [0x7fffe0047403]
 #7 /usr/lib/libirods_client.so.4.2.2(_ZZN5irods11plugin_base4callIJPKcP8BytesBufS5_S5_i11irodsProt_tEEENS_5errorEP8rsComm_tRKNSt3__112basic_stringIcNSA_11char_traitsIcEENSA_9allocatorIcEEEEN5boost10shared_ptrINS_18first_class_objectEEEDpT_ENKUlRNS_14plugin_contextEPSG_S3_S5_S5_S5_iS6_E_clESQ_SR_S3_S5_S5_S5_iS6_+0x5a) [0x7fffe008830a]
 #8 /usr/lib/libirods_client.so.4.2.2(_ZN5irods11plugin_base4callIJPKcP8BytesBufS5_S5_i11irodsProt_tEEENS_5errorEP8rsComm_tRKNSt3__112basic_stringIcNSA_11char_traitsIcEENSA_9allocatorIcEEEEN5boost10shared_ptrINS_18first_class_objectEEEDpT_+0x1af) [0x7fffe0086b7f]
 #9 /usr/lib/libirods_client.so.4.2.2(_Z11sendRodsMsgN5boost10shared_ptrIN5irods14network_objectEEEPKcP8BytesBufS7_S7_i11irodsProt_t+0x153) [0x7fffe0082cf3]
 #10 /usr/lib/libirods_client.so.4.2.2(sendStartupPack+0x233) [0x7fffe0082283]
 #11 /usr/lib/libirods_client.so.4.2.2(connectToRhost+0x55) [0x7fffe0081175]
 #12 /usr/lib/libirods_client.so.4.2.2(_rcConnect+0x24d) [0x7fffe006d65d]
 #13 /usr/lib/libirods_client.so.4.2.2(rcConnect+0x6b) [0x7fffe006d3fb]
 #14 /usr/local/samba/lib/vfs/stor.so(+0x1d1d) [0x7fffe02dad1d]

---
20180404,
struct stor_data {
    rErrMsg_t *err_msg;
} *vfs_stor_data;

Breakpoint 1, stor_connect (handle=0x5555558156a0, service=0x5555557ef5d0 "test",
    user=0x5555557faad0 "TEST\\davor") at ../source3/modules/vfs_stor.c:99
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) p vfs_stor_data->err_msg
$1 = (rErrMsg_t *) 0x0
(gdb) p &vfs_stor_data->err_msg
$2 = (rErrMsg_t **) 0x555555815748
(gdb) p &vfs_stor_data->err_msg.status
$3 = (int *) 0x0
(gdb) p &vfs_stor_data->err_msg.msg
$4 = (char (*)[1024]) 0x4
(gdb) p vfs_stor_data->err_msg.msg
Cannot access memory at address 0x4
(gdb) s
104                             0, &vfs_stor_data->err_msg);
(gdb) s
103                             vfs_stor_data->stor_env.rodsZone,
(gdb) s
102                             vfs_stor_data->stor_env.rodsUserName,
(gdb) s
101                             vfs_stor_data->stor_env.rodsPort,
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) s
100                             vfs_stor_data->stor_env.rodsHost,
(gdb) s
99                      vfs_stor_data->irods_conn = rcConnect(
(gdb) s
remote addresses: 192.168.1.8 ERROR: _rcConnect: setRhostInfo error, IRODS_HOST is probably not set correctly status = -302000 USER_RODS_HOST_EMPTY
106             if (vfs_stor_data->irods_conn == NULL) {
(gdb) p &vfs_stor_data->err_msg.status
$5 = (int *) 0x4363725ffffb6450
(gdb) p &vfs_stor_data->err_msg.msg
$6 = (char (*)[1024]) 0x4363725ffffb6454
(gdb) c
Continuing.
[VFS_STOR] - error iRODS connection: vfs_stor_data->irods_conn == NULL

Forgot to print this during debug session:
(gdb) p vfs_stor_data->stor_env
$4 = {rodsUserName = "onnect: setRhostInfo failed\n", '\000' <repeats 35 times>,
  rodsHost = '\000' <repeats 63 times>, rodsPort = 0, xmsgHost = '\000' <repeats 63 times>, xmsgPort = 0,
  rodsHome = '\000' <repeats 1087 times>, rodsCwd = "/tempZone/home/davor", '\000' <repeats 1067 times>,
  rodsAuthScheme = "KRB\000ve", '\000' <repeats 57 times>, rodsDefResource = '\000' <repeats 63 times>,
  rodsZone = "tempZone", '\000' <repeats 55 times>, rodsLogLevel = 0, rodsAuthFile = '\000' <repeats 255 times>,
  rodsDebug = '\000' <repeats 63 times>, rodsClientServerPolicy = '\000' <repeats 255 times>,
  rodsClientServerNegotiation = '\000' <repeats 255 times>, rodsEncryptionKeySize = 0,
  rodsEncryptionSaltSize = 0, rodsEncryptionNumHashRounds = 0,
  rodsEncryptionAlgorithm = '\000' <repeats 127 times>, rodsDefaultHashScheme = '\000' <repeats 63 times>,
  rodsMatchHashPolicy = '\000' <repeats 63 times>, irodsSSLCACertificatePath = '\000' <repeats 1087 times>,
  irodsSSLCACertificateFile = '\000' <repeats 1087 times>, irodsSSLVerifyServer = '\000' <repeats 1087 times>,
  irodsSSLCertificateChainFile = '\000' <repeats 1087 times>,
  irodsSSLCertificateKeyFile = '\000' <repeats 1087 times>, irodsSSLDHParamsFile = '\000' <repeats 1087 times>,
  irodsCtrlPlaneKey = '\000' <repeats 1087 times>, irodsCtrlPlanePort = 0,
  irodsCtrlPlaneEncryptionNumHashRounds = 0, irodsCtrlPlaneEncryptionAlgorithm = '\000' <repeats 127 times>,
  irodsMaxSizeForSingleBuffer = 32, irodsDefaultNumberTransferThreads = 4, irodsTransBufferSizeForParaTrans = 4,
  irodsPluginHome = '\000' <repeats 1087 times>}
(gdb)

---

20180302-1:
INFO: Profiling support unavailable in this build.
[VFS_STOR] - uid, gid: 11104, 10513
[VFS_STOR] - home_dir: /data/home/davor
[VFS_STOR] - home_directory: /data/home/davor
[VFS_STOR] - HOME env var: /root
terminating with uncaught exception of type boost::filesystem::filesystem_error: boost::filesystem::status: Permission denied: "/root/.irods/irods_environment.json"

Program received signal SIGABRT, Aborted.
0x00007ffff397e428 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54
54      ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.

---

20180203-1:
(gdb) s
remote addresses: 192.168.1.8 ERROR: _rcConnect: connectToRhost error, server on rods.test.vusir.se:1247 is probably down status = -305111 USER_SOCK_CONNECT_ERR, Connection refused
128                 if (conn == NULL) {

20180203-2:
debug_lookup_classname(smbd): Unknown class
INFO: Profiling support unavailable in this build.
[VFS_STOR] - uid, gid: 11104, 10513

Breakpoint 1, stor_connect (handle=0x555555813c50, service=0x5555557ebf90 "test",
    user=0x5555557ea570 "TEST\\davor") at ../source3/modules/vfs_stor.c:108
108                 if(auth_pipe_user_ok){
(gdb) s
109                     home_dir = handle->conn->session_info->info->home_directory;
(gdb)
110                     DEBUG(1, ("[VFS_STOR] - home_dir: %s\n", home_dir));
(gdb)
[VFS_STOR] - home_dir: /data/home/davor
111                     DEBUG(1, ("[VFS_STOR] - home_directory: %s\n",
(gdb)
[VFS_STOR] - home_directory: /data/home/davor
114                     home_dir = getenv("HOME");
(gdb)
115                     DEBUG(1, ("[VFS_STOR] - HOME env var: %s\n", home_dir));
(gdb)
[VFS_STOR] - HOME env var: /home/admind
118                     status = getRodsEnv(&env);
(gdb)
remote addresses: 192.168.1.8 ERROR: iRODS Exception:
    file: /tmp/tmpJzsKTL/lib/core/src/irods_environment_properties.cpp
    function: void irods::environment_properties::capture_json(const std::string &)
    line: 113
    code: -1
    message:
        [-]     /tmp/tmpJzsKTL/lib/core/src/irods_configuration_parser.cpp:92:irods::error irods::configuration_parser::load_json_object(const std::string &) :  status [Unknown iRODS error]  errno [Operation not permitted] -- message [failed to load file [/home/admind/.irods/irods_environment.json] json error [unable to open /home/admind/.irods/irods_environment.json: Permission denied]]


stack trace:
--------------

Dumping stack trace
<0>     Offset: 0x65    Address: 0x7fffe751be15 irods::exception::exception(long, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, unsigned int, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)
<1>     Offset: 0xf2    Address: 0x7fffe7518ea2 irods::environment_properties::capture_json(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)
<2>     Offset: 0xbb    Address: 0x7fffe7518b4b irods::environment_properties::capture()
<3>     Offset: 0x33    Address: 0x7fffe7518a03 irods::environment_properties::instance()
<4>     Offset:         Address: 0x7fffe7504e40 /usr/lib/libirods_common.so.4.2.2(+0x66e40) [0x7fffe7504e40]
<5>     Offset:         Address: 0x7fffe7503fe5 /usr/lib/libirods_common.so.4.2.2(getRodsEnvFromFile+0x65) [0x7fffe7503fe5]
<6>     Offset:         Address: 0x7fffe7503ecb /usr/lib/libirods_common.so.4.2.2(_getRodsEnv+0x1b) [0x7fffe7503ecb]
<7>     Offset:         Address: 0x7fffe7503ea0 /usr/lib/libirods_common.so.4.2.2(getRodsEnv+0x10) [0x7fffe7503ea0]
<8>     Offset:         Address: 0x7fffe01a7b60 /usr/local/samba/lib/vfs/stor.so(+0x1b60) [0x7fffe01a7b60]
<9>     Offset:         Address: 0x7ffff7327ab5 /usr/local/samba/lib/private/libsmbd-base-samba4.so(smb_vfs_call_connect+0x4d) [0x7ffff7327ab5]
<10>    Offset:         Address: 0x7ffff734775c /usr/local/samba/lib/private/libsmbd-base-samba4.so(+0x1ff75c) [0x7ffff734775c]
<11>    Offset:         Address: 0x7ffff7348811 /usr/local/samba/lib/private/libsmbd-base-samba4.so(make_connection_smb2+0xe1) [0x7ffff7348811]
<12>    Offset:         Address: 0x7ffff73683d0 /usr/local/samba/lib/private/libsmbd-base-samba4.so(+0x2203d0) [0x7ffff73683d0]
<13>    Offset:         Address: 0x7ffff73687f2 /usr/local/samba/lib/private/libsmbd-base-samba4.so(+0x2207f2) [0x7ffff73687f2]
<14>    Offset:         Address: 0x7ffff7367951 /usr/local/samba/lib/private/libsmbd-base-samba4.so(smbd_smb2_request_process_tcon+0x2b1) [0x7ffff7367951]
<15>    Offset:         Address: 0x7ffff735d3e3 /usr/local/samba/lib/private/libsmbd-base-samba4.so(smbd_smb2_request_dispatch+0x1150) [0x7ffff735d3e3]
<16>    Offset:         Address: 0x7ffff7361447 /usr/local/samba/lib/private/libsmbd-base-samba4.so(+0x219447) [0x7ffff7361447]
<17>    Offset:         Address: 0x7ffff736154d /usr/local/samba/lib/private/libsmbd-base-samba4.so(+0x21954d) [0x7ffff736154d]
<18>    Offset:         Address: 0x7ffff672d4ac /usr/local/samba/lib/private/libtevent.so.0(+0xe4ac) [0x7ffff672d4ac]
<19>    Offset:         Address: 0x7ffff672dae4 /usr/local/samba/lib/private/libtevent.so.0(+0xeae4) [0x7ffff672dae4]
<20>    Offset:         Address: 0x7ffff672a7e0 /usr/local/samba/lib/private/libtevent.so.0(+0xb7e0) [0x7ffff672a7e0]
<21>    Offset:         Address: 0x7ffff67240f1 /usr/local/samba/lib/private/libtevent.so.0(_tevent_loop_once+0x10f) [0x7ffff67240f1]
<22>    Offset:         Address: 0x7ffff6724408 /usr/local/samba/lib/private/libtevent.so.0(tevent_common_loop_wait+0x25) [0x7ffff6724408]
<23>    Offset:         Address: 0x7ffff672a882 /usr/local/samba/lib/private/libtevent.so.0(+0xb882) [0x7ffff672a882]
<24>    Offset:         Address: 0x7ffff67244ab /usr/local/samba/lib/private/libtevent.so.0(_tevent_loop_wait+0x2b) [0x7ffff67244ab]
<25>    Offset:         Address: 0x7ffff73458ee /usr/local/samba/lib/private/libsmbd-base-samba4.so(smbd_process+0xbed) [0x7ffff73458ee]
<26>    Offset:         Address: 0x5555555600c7 /usr/local/samba/sbin/smbd(+0xc0c7) [0x5555555600c7]
<27>    Offset:         Address: 0x7ffff672d4ac /usr/local/samba/lib/private/libtevent.so.0(+0xe4ac) [0x7ffff672d4ac]
<28>    Offset:         Address: 0x7ffff672dae4 /usr/local/samba/lib/private/libtevent.so.0(+0xeae4) [0x7ffff672dae4]
<29>    Offset:         Address: 0x7ffff672a7e0 /usr/local/samba/lib/private/libtevent.so.0(+0xb7e0) [0x7ffff672a7e0]
<30>    Offset:         Address: 0x7ffff67240f1 /usr/local/samba/lib/private/libtevent.so.0(_tevent_loop_once+0x10f) [0x7ffff67240f1]
<31>    Offset:         Address: 0x7ffff6724408 /usr/local/samba/lib/private/libtevent.so.0(tevent_common_loop_wait+0x25) [0x7ffff6724408]
<32>    Offset:         Address: 0x7ffff672a882 /usr/local/samba/lib/private/libtevent.so.0(+0xb882) [0x7ffff672a882]
<33>    Offset:         Address: 0x7ffff67244ab /usr/local/samba/lib/private/libtevent.so.0(_tevent_loop_wait+0x2b) [0x7ffff67244ab]
<34>    Offset:         Address: 0x5555555610bc /usr/local/samba/sbin/smbd(+0xd0bc) [0x5555555610bc]
<35>    Offset:         Address: 0x555555563262 /usr/local/samba/sbin/smbd(main+0x18b7) [0x555555563262]
<36>    Offset:         Address: 0x7ffff3969830 /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0) [0x7ffff3969830]
<37>    Offset:         Address: 0x555555559f89 /usr/local/samba/sbin/smbd(_start+0x29) [0x555555559f89]


119                     DEBUG(1, ("[VFS_STOR] - getRodsEnv stor_env.rodsHost: %s\n",
(gdb) c
Continuing.
[VFS_STOR] - getRodsEnv stor_env.rodsHost:
[VFS_STOR] - getRodsEnv, status: 0
remote addresses: 192.168.1.8 ERROR: _rcConnect: setRhostInfo error, IRODS_HOST is probably not set correctly status = -302000 USER_RODS_HOST_EMPTY
[VFS_STOR] - error iRODS connection: data->conn == NULL

make_connection_snum: SMB_VFS_CONNECT for service 'test' at '/data/test' failed: Transport endpoint is not connected

Program received signal SIGTERM, Terminated.
0x00007ffff397e767 in kill () at ../sysdeps/unix/syscall-template.S:84
84      ../sysdeps/unix/syscall-template.S: No such file or directory.
(gdb)

---

20180323, commit e05d487:
tail -100 /var/lib/irods/log/rodsServerLog.2018.03.21: 
Mar 22 05:53:21 pid:1294 remote addresses: 192.168.1.8 ERROR: readWorkerTask - readStartupPack failed. -115000
Mar 23 05:58:17 pid:1294 remote addresses: 192.168.1.8 ERROR: readWorkerTask - readStartupPack failed. -4000

https://github.com/irods/irods/blob/4-2-stable/lib/core/include/rodsErrorTable.h:
NEW_ERROR(SYS_HEADER_READ_LEN_ERR, -4000)
NEW_ERROR(SYS_SOCK_READ_TIMEDOUT, -115000)

Output from gdb:
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /usr/local/samba/sbin/smbd -i
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
smbd version 4.7.3 started.
Copyright Andrew Tridgell and the Samba Team 1992-2017
debug_lookup_classname(smbd): Unknown class
Registered MSG_REQ_POOL_USAGE
Registered MSG_REQ_DMALLOC_MARK and LOG_CHANGED
rlimit_max: increasing rlimit_max (1024) to minimum Windows limit (16384)
Processing section "[zoner]"
interpret_interface: Adding interface 192.168.1.8/24
added interface 192.168.1.8/24 ip=192.168.1.8 bcast=192.168.1.255 netmask=255.255.255.0
interpret_interface: Adding interface 127.0.0.1/8
added interface 127.0.0.1/8 ip=127.0.0.1 bcast=127.255.255.255 netmask=255.0.0.0
INFO: Profiling support unavailable in this build.
waiting for connections
samba_tevent: EPOLL_CTL_DEL EBADF for fde[0x5555557e00c0] mpx_fde[(nil)] fd[28] - disabling
Could not find child 15570 -- ignoring
Processing section "[zoner]"
Initialising default vfs hooks
vfs_find_backend_entry called for /[Default VFS]/
Successfully added vfs backend '/[Default VFS]/'
vfs_find_backend_entry called for posixacl
Successfully added vfs backend 'posixacl'
Initialising custom vfs hooks from [/[Default VFS]/]
vfs_find_backend_entry called for /[Default VFS]/
Successfully loaded vfs module [/[Default VFS]/] with the new modules system
vfswrap_fs_capabilities: timestamp resolution of sec available on share IPC$, directory /tmp
vfs_ChDir to /tmp
vfs_ChDir got /tmp
     dfs_GetDFSReferral: struct dfs_GetDFSReferral
        in: struct dfs_GetDFSReferral
            req: struct dfs_GetDFSReferral_in
                max_referral_level       : 0x0003 (3)
                servername               : '\isamba\zoner'
vfs_ChDir to /
vfs_ChDir got /
Initialising default vfs hooks
Initialising custom vfs hooks from [/[Default VFS]/]
vfs_find_backend_entry called for /[Default VFS]/
Successfully loaded vfs module [/[Default VFS]/] with the new modules system
Initialising custom vfs hooks from [stor]
vfs_find_backend_entry called for stor
vfs module [stor] not loaded - trying to load...
vfs_find_backend_entry called for stor
Successfully added vfs backend 'stor'
vfs_find_backend_entry called for stor
Successfully loaded vfs module [stor] with the new modules system
../source3/modules/vfs_stor.c:97: cnum[2647799042], connectpath[/data/zone]
[VFS_STOR] - stor_data->env.rodsUserName: davor
[VFS_STOR] - stor_data->env.rodsHost: rods.test.vusir.se
[VFS_STOR] - stor_data->env.rodsPort: 1247
[VFS_STOR] - stor_data->env.rodsZone: tempZone
[VFS_STOR] - stor_data->env.rodsHome: /tempZone/home/davor
[VFS_STOR] - stor_data->env.rodsCwd: /tempZone/home/davor
[VFS_STOR] - stor_data->env.rodsAuthScheme: native
[VFS_STOR] - stor_data->env.irodsMaxSizeForSingleBuffer: 32
[VFS_STOR] - stor_data->env.irodsDefaultNumberTransferThreads: 4
[VFS_STOR] - stor_data->env.irodsTransBufferSizeForParaTrans: 4
[VFS_STOR] - uid, gid, vuid: 11104, 10513, 0
[VFS_STOR] - USER, HOME: davor, /data/home/davor
[VFS_STOR] - USER - getenv: davor
[VFS_STOR] - vfs_stor_uid, vfs_stor_gid: 11104, 10513
[VFS_STOR] - HOME - getenv: /data/home/davor
[VFS_STOR] - UID - getenv: (null)
[VFS_STOR] - UID - geteuid(), getuid() = 11104, 11104
[VFS_STOR] - char *user:
DEBUG: irods_authentication_file is not defined
DEBUG: irods_ssl_ca_certificate_path is not defined
DEBUG: irods_ssl_ca_certificate_file is not defined
DEBUG: irods_ssl_verify_server is not defined
DEBUG: irods_ssl_certificate_chain_file is not defined
DEBUG: irods_ssl_certificate_key_file is not defined
DEBUG: irods_ssl_dh_params_file is not defined
DEBUG: irods_server_control_plane_key is not defined
DEBUG: irods_server_control_plane_encryption_num_hash_rounds is not defined
DEBUG: irods_server_control_plane_encryption_algorithm is not defined
DEBUG: irods_server_control_plane_port is not defined
DEBUG: xmsg_host is not defined
DEBUG: xmsg_port is not defined
DEBUG: irods_client_server_policy is not defined
DEBUG: irods_client_server_negotiation is not defined
DEBUG: irods_encryption_key_size is not defined
DEBUG: irods_encryption_salt_size is not defined
DEBUG: irods_encryption_num_hash_rounds is not defined
DEBUG: irods_encryption_algorithm is not defined
DEBUG: irods_default_hash_scheme is not defined
DEBUG: irods_match_hash_policy is not defined
DEBUG: irods_authentication_file is not defined
DEBUG: irods_ssl_ca_certificate_path is not defined
DEBUG: irods_ssl_ca_certificate_file is not defined
DEBUG: irods_ssl_verify_server is not defined
DEBUG: irods_ssl_certificate_chain_file is not defined
DEBUG: irods_ssl_certificate_key_file is not defined
DEBUG: irods_ssl_dh_params_file is not defined
DEBUG: irods_server_control_plane_key is not defined
DEBUG: irods_server_control_plane_encryption_num_hash_rounds is not defined
DEBUG: irods_server_control_plane_encryption_algorithm is not defined
DEBUG: irods_server_control_plane_port is not defined
DEBUG: resolved plugin home [/usr/lib/irods/plugins/network/]
DEBUG: load_plugin - calling plugin_factory() in [/usr/lib/irods/plugins/network/libtcp_client.so]
DEBUG: load_plugin - loaded [tcp_client]

Program received signal SIGSEGV, Segmentation fault.
0x00007fffdff16403 in boost::unordered::detail::table_impl<boost::unordered::detail::map<std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, boost::any> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, boost::any, irods::irods_string_hash, std::__1::equal_to<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > >::operator[](std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) () from /usr/lib/libirods_client.so.4.2.2
(gdb) bt
#0  0x00007fffdff16403 in boost::unordered::detail::table_impl<boost::unordered::detail::map<std::__1::allocator<std::__1::pair<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const, boost::any> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, boost::any, irods::irods_string_hash, std::__1::equal_to<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > >::operator[](std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) () from /usr/lib/libirods_client.so.4.2.2
#1  0x00007fffdff5730a in irods::error irods::plugin_base::call<char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t>(rsComm_t*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, boost::shared_ptr<irods::first_class_object>, char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t)::{lambda(irods::plugin_context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t)#1}::operator()(irods::plugin_context&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t) const () from /usr/lib/libirods_client.so.4.2.2
#2  0x00007fffdff55b7f in irods::error irods::plugin_base::call<char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t>(rsComm_t*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, boost::shared_ptr<irods::first_class_object>, char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t) () from /usr/lib/libirods_client.so.4.2.2
#3  0x00007fffdff51cf3 in sendRodsMsg(boost::shared_ptr<irods::network_object>, char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t) ()
   from /usr/lib/libirods_client.so.4.2.2
#4  0x00007fffdff51283 in sendStartupPack () from /usr/lib/libirods_client.so.4.2.2
#5  0x00007fffdff50175 in connectToRhost () from /usr/lib/libirods_client.so.4.2.2
#6  0x00007fffdff3c65d in _rcConnect () from /usr/lib/libirods_client.so.4.2.2
#7  0x00007fffe01aa84e in stor_connect (handle=0x555555815150, service=0x5555557ef6c0 "zoner", user=0x5555557f9ae0 "\016")
    at ../source3/modules/vfs_stor.c:216
#8  0x00007ffff7327ab5 in smb_vfs_call_connect (handle=0x555555815150, service=0x5555557ef6c0 "zoner", user=0x5555557f9ae0 "\016")
    at ../source3/smbd/vfs.c:1549
#9  0x00007ffff734775c in make_connection_snum (xconn=0x5555557e0d90, conn=0x5555557fc460, snum=0, vuser=0x5555557f95c0, pdev=0x7ffff74b04ab "???")
    at ../source3/smbd/service.c:651
#10 0x00007ffff7348811 in make_connection_smb2 (req=0x5555557e3240, tcon=0x5555557d8b80, snum=0, vuser=0x5555557f95c0, pdev=0x7ffff74b04ab "???",
    pstatus=0x7fffffffd8e0) at ../source3/smbd/service.c:960
#11 0x00007ffff73683d0 in smbd_smb2_tree_connect (req=0x5555557e3240, in_path=0x5555557e35d0 "\\\\isamba\\zoner", out_share_type=0x5555557e3848 "",
    out_share_flags=0x5555557e384c, out_capabilities=0x5555557e3850, out_maximal_access=0x5555557e3854, out_tree_id=0x5555557e3858,
    disconnect=0x5555557e385c) at ../source3/smbd/smb2_tcon.c:309
#12 0x00007ffff73687f2 in smbd_smb2_tree_connect_send (mem_ctx=0x5555557e3240, ev=0x5555557c5e40, smb2req=0x5555557e3240,
    in_path=0x5555557e35d0 "\\\\isamba\\zoner") at ../source3/smbd/smb2_tcon.c:415
#13 0x00007ffff7367951 in smbd_smb2_request_process_tcon (req=0x5555557e3240) at ../source3/smbd/smb2_tcon.c:93
#14 0x00007ffff735d3e3 in smbd_smb2_request_dispatch (req=0x5555557e3240) at ../source3/smbd/smb2_server.c:2586
#15 0x00007ffff7361447 in smbd_smb2_io_handler (xconn=0x5555557e0d90, fde_flags=1) at ../source3/smbd/smb2_server.c:3895
#16 0x00007ffff736154d in smbd_smb2_connection_handler (ev=0x5555557c5e40, fde=0x5555557e0b50, flags=1, private_data=0x5555557e0d90)
    at ../source3/smbd/smb2_server.c:3933
#17 0x00007ffff672d4ac in epoll_event_loop (epoll_ev=0x5555557d72a0, tvalp=0x7fffffffdd00) at ../lib/tevent/tevent_epoll.c:728
#18 0x00007ffff672dae4 in epoll_event_loop_once (ev=0x5555557c5e40, location=0x7ffff74a6188 "../source3/smbd/process.c:4127")
    at ../lib/tevent/tevent_epoll.c:930
#19 0x00007ffff672a7e0 in std_event_loop_once (ev=0x5555557c5e40, location=0x7ffff74a6188 "../source3/smbd/process.c:4127")
    at ../lib/tevent/tevent_standard.c:114
---Type <return> to continue, or q <return> to quit---
#20 0x00007ffff67240f1 in _tevent_loop_once (ev=0x5555557c5e40, location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent.c:725
#21 0x00007ffff6724408 in tevent_common_loop_wait (ev=0x5555557c5e40, location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent.c:848
#22 0x00007ffff672a882 in std_event_loop_wait (ev=0x5555557c5e40, location=0x7ffff74a6188 "../source3/smbd/process.c:4127")
    at ../lib/tevent/tevent_standard.c:145
#23 0x00007ffff67244ab in _tevent_loop_wait (ev=0x5555557c5e40, location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent.c:867
#24 0x00007ffff73458ee in smbd_process (ev_ctx=0x5555557c5e40, msg_ctx=0x5555557c6270, sock_fd=28, interactive=true) at ../source3/smbd/process.c:4127
#25 0x00005555555600c7 in smbd_accept_connection (ev=0x5555557c5e40, fde=0x5555557e1820, flags=1, private_data=0x5555557e1bd0)
    at ../source3/smbd/server.c:981
#26 0x00007ffff672d4ac in epoll_event_loop (epoll_ev=0x5555557c60c0, tvalp=0x7fffffffe0a0) at ../lib/tevent/tevent_epoll.c:728
#27 0x00007ffff672dae4 in epoll_event_loop_once (ev=0x5555557c5e40, location=0x555555566c8c "../source3/smbd/server.c:1397")
    at ../lib/tevent/tevent_epoll.c:930
#28 0x00007ffff672a7e0 in std_event_loop_once (ev=0x5555557c5e40, location=0x555555566c8c "../source3/smbd/server.c:1397")
    at ../lib/tevent/tevent_standard.c:114
#29 0x00007ffff67240f1 in _tevent_loop_once (ev=0x5555557c5e40, location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent.c:725
#30 0x00007ffff6724408 in tevent_common_loop_wait (ev=0x5555557c5e40, location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent.c:848
#31 0x00007ffff672a882 in std_event_loop_wait (ev=0x5555557c5e40, location=0x555555566c8c "../source3/smbd/server.c:1397")
    at ../lib/tevent/tevent_standard.c:145
#32 0x00007ffff67244ab in _tevent_loop_wait (ev=0x5555557c5e40, location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent.c:867
#33 0x00005555555610bc in smbd_parent_loop (ev_ctx=0x5555557c5e40, parent=0x5555557cc2b0) at ../source3/smbd/server.c:1397
#34 0x0000555555563262 in main (argc=2, argv=0x7fffffffe698) at ../source3/smbd/server.c:2164
(gdb)

---

20170404:
NOTICE: created irodsHome=/tempZone/home/davor
NOTICE: created irodsCwd=/tempZone/home/davor
0x00007fffdfc717d3 in irods::error irods::load_plugin<irods::network, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(irods::network*&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) ()
   from /usr/lib/libirods_plugin_dependencies.so.4.2.2
(gdb) s
Single stepping until exit from function _ZN5irods11load_pluginINS_7networkEJNSt3__112basic_stringIcNS2_11char_traitsIcEENS2_9allocatorIcEEEEEEENS_5errorERPT_RKS8_SE_SE_DpRKT0_,
which has no line number information.
DEBUG: resolved plugin home [/usr/lib/irods/plugins/network/]
__dlopen (file=0x5555558141c0 "/usr/lib/irods/plugins/network/libtcp_client.so", mode=1)
    at dlopen.c:75
75      dlopen.c: No such file or directory.
(gdb)

(gdb) bt
#0  __dlopen (file=0x5555558141c0 "/usr/lib/irods/plugins/network/libtcp_client.so", mode=1)
    at dlopen.c:75
#1  0x00007fffdfc71f41 in irods::error irods::load_plugin<irods::network, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >(irods::network*&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) ()
   from /usr/lib/libirods_plugin_dependencies.so.4.2.2
#2  0x00007fffdfc709e4 in irods::network_manager::init_from_type(int const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, boost::shared_ptr<irods::network>&) ()
   from /usr/lib/libirods_plugin_dependencies.so.4.2.2
#3  0x00007fffdfc799ee in irods::tcp_object::resolve(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, boost::shared_ptr<irods::plugin_base>&) ()
   from /usr/lib/libirods_plugin_dependencies.so.4.2.2
#4  0x00007fffdff4fbf1 in sendRodsMsg(boost::shared_ptr<irods::network_object>, char const*, BytesBuf*, BytesBuf*, BytesBuf*, int, irodsProt_t) () from /usr/lib/libirods_client.so.4.2.2
#5  0x00007fffdff4f283 in sendStartupPack () from /usr/lib/libirods_client.so.4.2.2
#6  0x00007fffdff4e175 in connectToRhost () from /usr/lib/libirods_client.so.4.2.2
#7  0x00007fffdff3a65d in _rcConnect () from /usr/lib/libirods_client.so.4.2.2
#8  0x00007fffdff3a3fb in rcConnect () from /usr/lib/libirods_client.so.4.2.2
#9  0x00007fffe01a7e4e in connect_to_irods (handle=0x555555813160,
    user=0x5555557f2f00 "TEST\\davor") at ../source3/modules/vfs_stor.c:232
#10 0x00007fffe01a7f6a in stor_connect (handle=0x555555813160, service=0x5555557ed940 "zone",
    user=0x5555557f2f00 "TEST\\davor") at ../source3/modules/vfs_stor.c:346
#11 0x00007ffff7327ab5 in smb_vfs_call_connect (handle=0x555555813160,
    service=0x5555557ed940 "zone", user=0x5555557f2f00 "TEST\\davor") at ../source3/smbd/vfs.c:1549
#12 0x00007ffff734775c in make_connection_snum (xconn=0x5555557c64b0, conn=0x5555557e91c0, snum=0,
    vuser=0x5555557f0ce0, pdev=0x7ffff74b04ab "???") at ../source3/smbd/service.c:651
#13 0x00007ffff7348811 in make_connection_smb2 (req=0x5555557e0fe0, tcon=0x5555557f0f00, snum=0,
    vuser=0x5555557f0ce0, pdev=0x7ffff74b04ab "???", pstatus=0x7fffffffd8e0)
    at ../source3/smbd/service.c:960
#14 0x00007ffff73683d0 in smbd_smb2_tree_connect (req=0x5555557e0fe0,
    in_path=0x5555557e1370 "\\\\isamba\\zone", out_share_type=0x5555557e15d8 "",
    out_share_flags=0x5555557e15dc, out_capabilities=0x5555557e15e0,
    out_maximal_access=0x5555557e15e4, out_tree_id=0x5555557e15e8, disconnect=0x5555557e15ec)
---Type <return> to continue, or q <return> to quit---
    at ../source3/smbd/smb2_tcon.c:309
#15 0x00007ffff73687f2 in smbd_smb2_tree_connect_send (mem_ctx=0x5555557e0fe0, ev=0x5555557c5e30,
    smb2req=0x5555557e0fe0, in_path=0x5555557e1370 "\\\\isamba\\zone")
    at ../source3/smbd/smb2_tcon.c:415
#16 0x00007ffff7367951 in smbd_smb2_request_process_tcon (req=0x5555557e0fe0)
    at ../source3/smbd/smb2_tcon.c:93
#17 0x00007ffff735d3e3 in smbd_smb2_request_dispatch (req=0x5555557e0fe0)
    at ../source3/smbd/smb2_server.c:2586
#18 0x00007ffff7361447 in smbd_smb2_io_handler (xconn=0x5555557c64b0, fde_flags=1)
    at ../source3/smbd/smb2_server.c:3895
#19 0x00007ffff736154d in smbd_smb2_connection_handler (ev=0x5555557c5e30, fde=0x5555557df870,
    flags=1, private_data=0x5555557c64b0) at ../source3/smbd/smb2_server.c:3933
#20 0x00007ffff672d4ac in epoll_event_loop (epoll_ev=0x5555557dcc20, tvalp=0x7fffffffdd00)
    at ../lib/tevent/tevent_epoll.c:728
#21 0x00007ffff672dae4 in epoll_event_loop_once (ev=0x5555557c5e30,
    location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent_epoll.c:930
#22 0x00007ffff672a7e0 in std_event_loop_once (ev=0x5555557c5e30,
    location=0x7ffff74a6188 "../source3/smbd/process.c:4127")
    at ../lib/tevent/tevent_standard.c:114
#23 0x00007ffff67240f1 in _tevent_loop_once (ev=0x5555557c5e30,
    location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent.c:725
#24 0x00007ffff6724408 in tevent_common_loop_wait (ev=0x5555557c5e30,
    location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent.c:848
#25 0x00007ffff672a882 in std_event_loop_wait (ev=0x5555557c5e30,
    location=0x7ffff74a6188 "../source3/smbd/process.c:4127")
    at ../lib/tevent/tevent_standard.c:145
#26 0x00007ffff67244ab in _tevent_loop_wait (ev=0x5555557c5e30,
    location=0x7ffff74a6188 "../source3/smbd/process.c:4127") at ../lib/tevent/tevent.c:867
#27 0x00007ffff73458ee in smbd_process (ev_ctx=0x5555557c5e30, msg_ctx=0x5555557c6260, sock_fd=28,
    interactive=true) at ../source3/smbd/process.c:4127
#28 0x00005555555600c7 in smbd_accept_connection (ev=0x5555557c5e30, fde=0x5555557dc890, flags=1,
    private_data=0x5555557dd830) at ../source3/smbd/server.c:981
#29 0x00007ffff672d4ac in epoll_event_loop (epoll_ev=0x5555557c60b0, tvalp=0x7fffffffe0a0)
    at ../lib/tevent/tevent_epoll.c:728
#30 0x00007ffff672dae4 in epoll_event_loop_once (ev=0x5555557c5e30,
    location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent_epoll.c:930
#31 0x00007ffff672a7e0 in std_event_loop_once (ev=0x5555557c5e30,
    location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent_standard.c:114
#32 0x00007ffff67240f1 in _tevent_loop_once (ev=0x5555557c5e30,
---Type <return> to continue, or q <return> to quit---
    location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent.c:725
#33 0x00007ffff6724408 in tevent_common_loop_wait (ev=0x5555557c5e30,
    location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent.c:848
#34 0x00007ffff672a882 in std_event_loop_wait (ev=0x5555557c5e30,
    location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent_standard.c:145
#35 0x00007ffff67244ab in _tevent_loop_wait (ev=0x5555557c5e30,
    location=0x555555566c8c "../source3/smbd/server.c:1397") at ../lib/tevent/tevent.c:867
#36 0x00005555555610bc in smbd_parent_loop (ev_ctx=0x5555557c5e30, parent=0x5555557ca380)
    at ../source3/smbd/server.c:1397
#37 0x0000555555563262 in main (argc=2, argv=0x7fffffffe698) at ../source3/smbd/server.c:2164
(gdb) q
A debugging session is active.

        Inferior 1 [process 28059] will be killed.

Quit anyway? (y or n) y

theuser@isamba-c:~/samba-4.7.3$ ls -al /usr/lib/irods/plugins/network/
total 968
drwxr-xr-x 2 root root   4096 Feb 16 04:56 .
drwxr-xr-x 4 root root   4096 Feb 16 04:56 ..
-rw-r--r-- 1 root root 237128 Nov  7 22:36 libssl_client.so
-rw-r--r-- 1 root root 237128 Nov  7 22:40 libssl_server.so
-rw-r--r-- 1 root root 252200 Nov  7 22:36 libtcp_client.so
-rw-r--r-- 1 root root 252200 Nov  7 22:40 libtcp_server.so
theuser@isamba-c:~/samba-4.7.3$
